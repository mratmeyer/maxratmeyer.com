<!DOCTYPE html>
<html lang="en">

{% include "header.njk" %}

<body class="light">

  <script>
    const currentTheme = localStorage.getItem("theme");
    if (currentTheme === null) {
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        setDark();
      }
    } else {
      document.body.classList.add(currentTheme);
    }

    function toggleDarkMode() {
      const theme = localStorage.getItem("theme");

      if (theme == "light") {
        setDark();
      } else if (theme == "dark") {
        setLight();
      } else {
        setDark();
      }
    };

    function setLight() {
      localStorage.setItem("theme", "light");
      document.body.classList.remove("dark");
      document.body.classList.add("light");
    };

    function setDark() {
      localStorage.setItem("theme", "dark");
      document.body.classList.remove("light");
      document.body.classList.add("dark");
    };
  </script>

  {% if config.analytics == "true" %}
  <noscript><img src="https://stats.maxnet.work/ingress/497b5ef0-995e-403e-b57b-e93569d61e0e/pixel.gif"></noscript> <script src="https://stats.maxnet.work/ingress/497b5ef0-995e-403e-b57b-e93569d61e0e/script.js"></script>
  {% endif %}

  <div class="page-container">

    <div class="content-container">

      {% include "nav.njk" %}

      <div class="page-content">

        {{ content | safe }}
        
      </div>
      
    </div>

    {% include "footer.njk" %}

  </div>

</body>

</html>
